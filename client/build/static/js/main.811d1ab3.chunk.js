(this["webpackJsonpmern-graphql"]=this["webpackJsonpmern-graphql"]||[]).push([[0],{28:function(e,n,a){e.exports=a(38)},33:function(e,n,a){},38:function(e,n,a){"use strict";a.r(n);var t=a(2),r=a.n(t),l=a(23),c=a.n(l),o=(a(33),a(12)),m=a(8),i=a(13),u=a(11),d=a(15);function s(){var e=Object(d.a)(["\n  query($_id: ID!) {\n    car(_id: $_id) {\n      _id\n      name\n      model\n      company\n      owner {\n        _id\n        name\n        age\n        cars {\n          name\n          company\n          _id\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}function p(){var e=Object(d.a)(["\n  mutation($name: String!, $model: Int!, $company: String!, $ownerId: ID!) {\n    addCar(name: $name, model: $model, company: $company, ownerId: $ownerId) {\n      name\n      _id\n    }\n  }\n"]);return p=function(){return e},e}function E(){var e=Object(d.a)(["\n  {\n    owners {\n      name\n      _id\n    }\n  }\n"]);return E=function(){return e},e}function b(){var e=Object(d.a)(["\n  {\n    cars {\n      name\n      _id\n    }\n  }\n"]);return b=function(){return e},e}var f=Object(o.b)(b()),v=Object(o.b)(E()),h=Object(o.b)(p()),g=Object(o.b)(s()),w=function(e){var n=e.carId,a=Object(u.b)(g,{variables:{_id:n}}),t=a.loading,l=a.error,c=a.data;return r.a.createElement("div",{id:"carDetails"},function(){if(t)return r.a.createElement("p",null,"Loading car details...");if(l)return r.a.createElement("p",null,"Error :(");var e=c.car;return e?r.a.createElement("div",null,r.a.createElement("h2",null,e.name),r.a.createElement("p",null,"model : ",e.model),r.a.createElement("p",null,"company : ",e.company),r.a.createElement("p",null,"owner : ",e.owner.name),r.a.createElement("p",null,"All cars by this owner :"),r.a.createElement("ul",null,e.owner.cars.map((function(e){return r.a.createElement("li",{key:e._id},e.name)})))):r.a.createElement("div",null,"No Car Selected")}())},y=function(){var e=r.a.useState(0),n=Object(i.a)(e,2),a=n[0],t=n[1],l=Object(u.b)(f),c=l.loading,o=l.error,m=l.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{id:"carList"},c?r.a.createElement("div",null,"Loading Cars..."):o?r.a.createElement("p",null,"Error :("):m.cars.map((function(e){return r.a.createElement("li",{key:e._id,onClick:function(n){return t(e._id)}},e.name)}))),0!==a&&r.a.createElement(w,{carId:a}))},O=a(18),j=a(19),_=function(e){var n=r.a.useState({}),a=Object(i.a)(n,2),t=a[0],l=a[1];return{handleSubmit:function(n){n&&n.preventDefault(),e()},handleInputChange:function(e){e.persist(),l((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(O.a)({},e.target.name,e.target.value))}))},inputs:t}},C=function(e){var n=Object(u.b)(v),a=n.loading,t=n.data,l=Object(u.a)(h),c=Object(i.a)(l,2),o=c[0],m=(c[1].data,_((function(){o({variables:{name:d.carName,model:parseInt(d.model),company:d.company,ownerId:d.owner},refetchQueries:[{query:f}]})}))),d=m.inputs,s=m.handleInputChange,p=m.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:p},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Car Name"),r.a.createElement("input",{type:"text",name:"carName",onChange:s,value:d.carName})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Model"),r.a.createElement("input",{type:"number",name:"model",onChange:s,value:d.model})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Company:"),r.a.createElement("input",{type:"text",name:"company",onChange:s,value:d.company})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Owner:"),r.a.createElement("select",{name:"owner",onChange:s,value:d.owner},r.a.createElement("option",null,"Select Owner"),a?r.a.createElement("option",{disabled:!0},"Owner loading..."):t.owners.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})))),r.a.createElement("button",null,"AddCar")))},I=new o.a({uri:"http://localhost:4000/graphql"});var $=function(){return r.a.createElement(m.a,{client:I},r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"List of Cars"),r.a.createElement(y,null),r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.811d1ab3.chunk.js.map